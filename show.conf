; vim:set syntax=cfg:
;
;                                                                        
;  @@@@   @    @  @@@@  @     @                                    Lumos 
; @    @  @    @ @    @ @     @                                          
; @       @    @ @    @ @     @                                          
;  @@@@   @@@@@@ @    @ @  @  @   @@@ @@@ @  @ @@@               
;      @  @    @ @    @ @ @ @ @   @   @ @ @@ @ @                 
; @    @  @    @ @    @ @@   @@   @   @ @ @ @@ @@@           Show     
;  @@@@   @    @  @@@@  @     @ @ @@@ @@@ @  @ @             Configuration
;                                                                        
;
;___________________________________________________________________________
;INTRODUCTION
;
; This file describes the devices connected to your computer, which you will
; have Lumos control.  Generally, you'd design your show, working out what 
; lights will be assigned to which controllers (and what power circuits 
; those will be powered from).  This information is entered into this
; configuration file so that Lumos knows how to control each of your 
; show channels.  The same show will usually use one show.conf file
; even though it may use many scene files.
;
; It would probably be a good idea to store the show.conf file along 
; with the scene files which describe a complete show.  Each show will
; likely use different arrangements of lights and controllers, and so it
; would require its own show.conf file.
;___________________________________________________________________________
;FORMAT
;
; A few words about the format of this file:
;
; First, as you have no doubt noticed, lines beginning with a semicolon (;)
; or pound sign (#) are comments and are ignored (up to the end of the line)
; 
; The file is divided up into sections.  A section begins with the section
; name in square brackets on a line.  For example, the line:
;   [show]
; begins a section called "show", which defines the global settings used
; in a show.
;
; Each section contains a number of named values relating to that section.
; These are defined, one per line, in "name=value" or "name: value" notation.
; For example:
;   type=x10
;   power: 12
;
; White space around the '=' or ':' is ignored, but the value name must start
; at the beginning of the line.
;
; Long values may be typed on multiple lines of the file.  Any line which
; is indented (i.e., begins with whitespace) is considered to be a
; continuation of the value from the previous line, in the same fashion as
; RFC 822 mail headers.  For example:
;   description: This channel controls the red
;                rope light which runs around the
;                perimeter of the lawn.
; This would assign the text "This channel controls the red rope light which
; runs around the perimeter of the lawn." as the "description" value.
;
; Common values may be defined in this file and used to define other values.
; For example:
;   basepath=/usr/local/lightshows/data
;   show1=%(basepath)s/first
;   show2=%(basepath)s/second
;
; The syntax for substituting values is %(NAME)s, where NAME is the name
; of the value being substituted here.  (This is an extension of the 
; standard printf() function format syntax, with the name of the value
; being placed in parentheses immediately following the '%' character.  Any
; other valid printf()-style formating controls may appear after the 
; closing parenthesis.)  A literal "%" character is entered by typing "%%".
;
; Values may only be substituted into a given section only if they were
; themselves defined in that same section, or in the [DEFAULT] section.
;___________________________________________________________________________
;STRUCTURE
;
; This file describes a number of NETWORKS, which each contain a set of
; CONTROLLERS, which in turn control a number of CHANNELS (i.e., electrical
; circuits of, e.g., Christmas light strings).
;
; The first section, [show], describes the overall show setup, with global
; settings related to the show (as opposed to global settings for the 
; Lumos application, which are in the main configuration file).
; This includes a list of networks and power sources available.
;
; Each power source is described in its own section called [power XXX],
; which gives information about available current, phase, etc.
;
; There will then be one section for each network, [net XXX], 
; which define the specific information about each network, including the
; list of controllers present on each.
;
; Each controller is described in its section, [unit XXX], including the
; list of channels controlled by that unit.
;
; Each channel is described by a section called [chan XXX], which describes
; attributes of the show element controlled on that circuit.
;___________________________________________________________________________
;VALIDATION
;
; After making edits to this file, you should run it through the lcheck
; program.  This will read your configuration, alert you to any 
; inconsistencies or errors that it can detect, and provide you with a
; report summarizing the power loads your stated configuration may draw.
;
; Always run lcheck on your configuration files before putting them into
; production use.  It will make tracking down problems easier if you can
; catch common configuration errors early.
;
;===========================================================================

;___________________________________________________________________________
; MAIN SECTION
;
; This describes the overall show setup parameters.
;
;   powersources=1 2a 2b
;     This is a space-separated list of circuits which will feed power to
;     your show.  You can call these anything you like.  We suggest using
;     the same numbering scheme as on your main breaker panel (or whatever
;     easily identifies the circuit in your environment).  Each source will
;     be defined in detail in its own section.
;
;   networks=trees misc floods
;     This is a space-separated list of networks of controllers which will
;     be in use during the show.  These are separate realms of controllers
;     and will be on different devices (e.g., serial ports) from the 
;     computer's point of view.  These network names may be anything which
;     makes sense to you.  They will be defined in detail in their own
;     sections.
;
;   title=...        The name of the show.
;   description=...  A longer description of the show.
;
[show]
powersources=1 2a 2b
networks=trees misc floods
title=Example Show
description=This is an example of how to set up a Lumos show.conf file.  
	You should take this file and edit it to reflect
	your actual show setup.
;___________________________________________________________________________
;POWER SOURCES
;
; The following sections, each named [power XXX] where XXX is the name of
; a power source from the "powersources" value in [show], describe the 
; various properties of the power circuits supplying input power for your
; show.
;
;   amps=...         The maximum current rating for this circuit.
;                    ***NOTE*** this should be the current available
;                    TO YOUR SHOW, after accounting for whatever else
;                    is (or will be) connected to that circuit.
;
;   gfci=yes/no      Set to 'yes' if this circuit has ground fault 
;                    protection.  The default is 'no'.
;
[power 1]
amps=20
gfci=yes

[power 2a]
amps=15
gfci=no

[power 2b]
amps=15.5
;___________________________________________________________________________
;NETWORKS
;
; The following sections, each named [net XXX], where XXX is the name of
; a network from the "networks" value in [show], describe the various
; networks of controllers attached to your computer.  Normally, these are
; separate serial ports, connected to some set of channel controller devices.
;
;   description=... Description explaining what this network is for.
;
;   units=a b c     Space-separated list of controller units attached to
;                   this network.
;
;   port=...        Device to which this network is connected.  This is
;                   somewhat platform-specific.  On most systems, you can
;                   simply use 0 for the first port (COM1: on Windows, or
;                   something like /dev/ttyS0 on Unix), 1 for the next port
;                   (COM2:), etc.  If that doesn't work, you can put the
;                   actual device name like /dev/ttyS1 in this value.
;
;   baudrate=...    Speed of the port.  Default is 9600.
;   bits=7/8        Number of data bits.  Default is 8.
;   parity=...      Parity (none/even/odd/mark/space).  Default is none.
;   stop=1/2        Number of stop bits.  Default is 1.
;   xonxoff=yes/no	If yes, use XON/XOFF software flow control.  Default off.
;   rtscts=yes/no   If yes, use RTS/CTS hardware flow control.  Default off.
;
[net trees]
description=Separate network of controllers for tree displays.
port=0
baudrate=19200
units=treea1 treea2 treeb1 treeb2

[net misc]
description=Everything that's not a floodlight or a tree.
port=1
units=a b

[net floods]
description=X10 network for the floodlights.
port=2
baudrate=1200
units=floodX10
;___________________________________________________________________________
;CONTROLLER UNITS
;
; The following sections, each named [unit XXX], where XXX is the name of
; a controller unit from the "units" value in its network section, describe 
; the various controller devices attached to a given network.  Since they
; will be receiving commands over the same wire, all units on a network
; need to have compatible protocols.
; 
;   power=...       The name of the power source which feeds this unit.
;
;   type=...        Unit type.  This must correspond to a known device
;                   driver plug-in installed in Lumos.
;
;   address=...     Unit address.  (not all unit types use addresses)
;
[unit treea1]
power=1
type=48ssr
address=0

[unit treea2]
power=1
type=48ssr
address=1

[unit treeb1]
power=1
type=48ssr
address=2

[unit treeb2]
power=1
type=48ssr
address=3

[unit a]
power=2a
type=48ssr
address=9

[unit b]
power=2a
type=48ssr
address=10

[unit floodX10]
power=2b
type=lynx10
;___________________________________________________________________________
;CONTROLLER CHANNELS
;
; The following sections, each named [chan XXX.YYY], where XXX is the name 
; of a controller and YYY is the unit-specific designation for a channel,
; describe each output circuit controlled by Lumos.
;
; The numbering scheme for channels depends on the type of unit.
;
;   name=...        Channel name as it will appear in the software.   
;
;   load=...        Amperage rating of the load to be connected.
;
;   dimmer=yes/no	Can load be dimmed?  Default=yes.
;                   ***NOTE*** Indicating "no" here will inform Lumos
;                   that it should interpret any non-zero level for that
;                   channel as fully ON, and zero as fully OFF.  However, we
;                   cannot guarantee that a software or hardware bug or mal-
;                   function, communication glitch or other circumstance might
;                   not cause it to go into dimmer mode anyway.  DO NOT 
;                   connect anything to a dimmable controller output which
;                   would be damaged if it happens to be dimmed. ***
;
;   warm=...        Level (percentage) to keep light at to keep it warm all
;                   the time.  This is effectively a minimum level to which
;                   the circuit dimmer will be set if the scene calls for it
;                   to go lower than this threshold.  So if this were set as:
;                      warm=10
;                   then any level setting of 0-10% would result in an actual
;                   output of 10%, while any setting above 10 would be output
;                   normally.  Default is to disable this feature, and allow
;                   the channel to be turned competely off.  A value of 0 
;                   will keep the channel on, and dimmed to 0% output minimum.
; 
[chan treea1.0]
name=Tree 1 RED 1
load=.3

[chan treea1.1]
name=Tree 1 RED 2
load=.3
;
; ...
;
[chan floodX10.A1]
name=West flood, blue
load=1
warm=10

[chan floodX10.A2]
name=West flood, green
load=1
warm=10

[chan floodX10.C1]
name=Snowman power
load=20
dimmer=no

;____________________________________________________________________________ 
;                                                                      Lumos ;
;                                                                      0.0.0 ;
;                                                                 Light Show ;
;                                                              Configuration ;
;____________________________________________________________________________;
